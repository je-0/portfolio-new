const $window=$(window),$document=$(document),$scrollBody=$("html,body"),$appHeader=$(".app-header");var $body=$("body");let winW=$window.outerWidth(),winH=$window.outerHeight(),docH=$document.outerHeight(),st=$window.scrollTop();var layerH,$btnTop=$(".js-btn-top"),btnTopAction={init:function(){btnTopAction.click()},click:function(){$btnTop.on("click",function(){gsap.to($("html, body"),{duration:1,scrollTop:0})})}},$motionItem=($btnTop.length&&btnTopAction.init(),$(".js-motion-item")),$body=($motionItem.length&&$(window).on("scroll",function(){var o=$(window).scrollTop(),i=$(window).height();$motionItem.each(function(){var e=$(this).offset().top,a=$(this);e-i/2<o&&a.addClass("is-motion-active"),640<winW&&e-i/1.5<o&&a.addClass("is-motion-active")})}),$(window).on("scroll",function(){0<$(window).scrollTop()?($appHeader.addClass("is-active"),$btnTop.addClass("is-active")):($appHeader.removeClass("is-active"),$btnTop.removeClass("is-active"))}),$("body")),$layerWrap=$(".layer-wrap"),$layer=$layerWrap.find(".layer:visible"),layerAction={open:function(e){$layerWrap.find(".layer[data-layer-name="+e+"]").length?($layerWrap.find(".layer[data-layer-name="+e+"]").parent().addClass("is-active"),$body.addClass("is-hidden"),$layerWrap.find(".layer").each(function(){e==$(this).attr("data-layer-name")?($(this).addClass("is-active").find(".btn-layer-close").addClass("is-active"),$layerWrap.scrollTop(0)):$(this).removeClass("is-active")})):($layerWrap.removeClass("is-active"),$body.removeClass("is-hidden"))},close:function(e){$layer=$layerWrap.find(".layer:visible"),$layerWrap.removeClass("is-active").removeAttr("style"),$layer.removeClass("is-active").removeAttr("style").find(".btn-layer-close").removeClass("is-active"),$body.removeClass("is-hidden")},bind:function(e){e.on("click",function(e){e.stopPropagation();e=$(this).attr("data-layer-name");layerAction.open(e)})}};$(".layer").on("click",".btn-layer-close, .js-layer-close",function(e){e.stopPropagation(),layerAction.close()}),$(document).ready(function(){layerAction.bind($(".js-layer-open"))});